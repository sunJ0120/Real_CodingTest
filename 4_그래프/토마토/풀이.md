## ì²« í’€ì´
```java
public class í† ë§ˆí†  {
    public static final int[] posX = {0, 0, -1, 1};
    public static final int[] posY = {-1, 1, 0, 0};
    public static int n;
    public static int m;
    public static int ans = 0;
    public static int days = 0;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        m = Integer.parseInt(st.nextToken());    // ê°€ë¡œ
        n = Integer.parseInt(st.nextToken());    // ì„¸ë¡œ

        String[][] tomatos = new String[n][m];
        boolean[][] isVisit = new boolean[n][m];

        for (int i = 0; i < n; i++) {
            tomatos[i] = br.readLine().split(" ");
        }

        í† ë§ˆí†  sol = new í† ë§ˆí† ();

        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                // 1. ë°©ë¬¸í•œì  ì—†ê³  1ì¸ ê³³ì„ ì°¾ëŠ”ë‹¤.
                if (!isVisit[i][j] && "1".equals(tomatos[i][j])) {
                    isVisit[i][j] = true;
                    sol.dfs(tomatos, isVisit, j, i, 0);
                    ans += days;
                    days = 0;
                }
            }
        }

        // 4. ë‹¤ ë¹ ì ¸ ë‚˜ì˜¤ê³  ê²€ì‚¬í•´ì„œ 0ì´ ìˆìœ¼ë©´ -1ë¡œ return í•œë‹¤.
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if ("0".equals(tomatos[i][j])) {
                    System.out.println(-1);
                    return;
                }
            }
        }
        System.out.println(ans);
    }

    public boolean isTrueInd(int x, int y) {
        if ((0 <= x && x < m) && (0 <= y && y < n)) {
            return true;
        }
        return false;
    }

    public void dfs(String[][] tomatos, boolean[][] isVisit, int x, int y, int day) {
        // 2. 4ë°©í–¥ íƒìƒ‰ìœ¼ë¡œ ì¬ê·€ ëˆë‹¤.
        for (int i = 0; i < 4; i++) {
            int nextX = x + posX[i];
            int nextY = y + posY[i];
            if (isTrueInd(nextX, nextY)
                    && !isVisit[nextY][nextX]
                    && !("-1".equals(tomatos[nextY][nextX]))) {

                isVisit[nextY][nextX] = true;
                tomatos[nextY][nextX] = "1";

                dfs(tomatos, isVisit, nextX, nextY, day + 1);
            }
        }
    }
}
```
ì‚¬ì‹¤ ì²˜ìŒì—ëŠ” ì¬ê·€ ì†ì„± ì´ìš©í•´ì„œ ê°€ì¥ ê¹Šì´ ë“¤ì–´ê°”ì„ë•Œ ê·¸ ê¹Šì´ë¥¼ êµ¬í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ í•´ì„œ ë¡œì§ì„ ì €ë ‡ê²Œ ì§°ëŠ”ë°,

ì•„ë¬´ë˜ë„ ê¹Šì´ë¥¼ êµ¬í•˜ëŠ” ë¡œì§ì´ í‹€ë¦°ê±° ê°™ë‹¤ã… 

## ì¡°ì–¸

ì•„ í† ë§ˆí† ëŠ” ë™ì‹œì— ì£¼ë³€ì„ ë‹¤ ìµê²Œ ë§Œë“¤ê¸° ë•Œë¬¸ì— 

ë„“ì´ ìš°ì„  íƒìƒ‰ì¸ BFSë¡œ í•´ì•¼ í•œë‹¤ê³  í•œë‹¤!!

ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ ì •ë¦¬í–ˆë‹¤.

### í‹€ë¦° í’€ì´ë“¤....ê³ ë¯¼ë“¤....

```java
public class í† ë§ˆí† {
    public static int m;
    public static int n;
    public static final int[] posX = {0,0,-1,1};
    public static final int[] posY = {-1,1,0,0};

    public boolean isTrueInd(int x, int y){
        if((0<=x && x<m) && (0<=y && y<n)){
            return true;
        }
        return false;
    }

    public void addQueue(ArrayDeque<int[]> queue, boolean[][] isVisit, int x, int y){
        int[] pos = new int[2];
        pos[0] = x;
        pos[1] = y;
        queue.addLast(pos);
        isVisit[y][x] = true;
    }

    public int bfs(ArrayDeque<int[]> queue, boolean[][] isVisit,
                   String[][] tomatos, int x, int y){
        int depth = 0;
        addQueue(queue, isVisit, x, y);

        // 3. íê°€ ë¹„ì—ˆë‹¤ë©´ ë” ê°ˆê³³ ì—†ëŠ”ê±°ë¼ ëë‚¸ë‹¤.
        while(!queue.isEmpty()){
            int[] top = queue.pollFirst();
            // 2. íì— ìˆëŠ”ê±° 4ë°©í–¥ì„ ì²´í¬í•´ì„œ ì˜¬ë¦°ë‹¤.
            for(int i = 0; i<4; i++){
                int nextX = top[0] + posX[i];
                int nextY = top[1] + posY[i];
                if(isTrueInd(nextX, nextY)
                        && !isVisit[nextY][nextX]
                        && !("-1".equals(tomatos[nextY][nextX]))){
                    addQueue(queue, isVisit, nextX, nextY);
                    tomatos[nextY][nextX] = "1";    // ğŸ… ìµìŒ
                }
            }
            depth++;
        }
        return depth;
    }
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        m = Integer.parseInt(st.nextToken());   //ê°€ë¡œ
        n = Integer.parseInt(st.nextToken());   //ì„¸ë¡œ

        String[][] tomatos = new String[n][m];
        boolean[][] isVisit = new boolean[n][m];
        ArrayDeque<int[]> queue = new ArrayDeque<int[]>();    // bfs

        for(int i = 0; i<n; i++){
            tomatos[i] = br.readLine().split(" ");
        }

        int ans = 0;

        í† ë§ˆí†  sol = new í† ë§ˆí† ();

        for(int i = 0; i<n; i++){
            for(int j = 0; j<m; j++){
                // 1. isVisit í•˜ì§€ ì•Šê³ , 1ì´ë©´ ë“¤ì–´ê°„ë‹¤.
                if(!isVisit[i][j] && "1".equals(tomatos[i][j])){
                    ans += sol.bfs(queue, isVisit, tomatos, j, i);
                }
            }
        }

        for(int i = 0; i<n; i++){
            for(int j = 0; j<m; j++){
                // 4. 0ì´ ìˆìœ¼ë©´ return -1, ì•„ë‹ˆë©´ ans ë‚´ë³´ë‚¸ë‹¤.
                if("0".equals(tomatos[i][j])){
                    System.out.println(-1);
                    return;
                }
            }
        }
        System.out.println(ans);
    }
}
```
- ì›ë˜ forë¬¸ì„ ë¹ ì ¸ë‚˜ì˜¤ë©´ depthë¥¼ ëŠ˜ë¦¬ë©´ ëœë‹¤ê³  ìƒê°í–ˆëŠ”ë°.. ìƒê°í•´ë³´ë‹ˆ forë¡œ ì´ë™í•˜ì§€ ì•Šì€ ê²½ìš°ì—ë„ depthê°€ ëŠ˜ì–´ë‚˜ì„œ ì•ˆëœë‹¤
- ì§ì ‘ depthë¥¼ queueì— ë„£ì–´ì•¼ í•  ê²ƒ ê°™ë‹¤.

```java
import java.lang.*;
import java.util.*;

public class í† ë§ˆí† {
    public static int m;
    public static int n;
    public static final int[] posX = {0,0,-1,1};
    public static final int[] posY = {-1,1,0,0};

    public boolean isTrueInd(int x, int y){
        if((0<=x && x<m) && (0<=y && y<n)){
            return true;
        }
        return false;
    }

    public void addQueue(ArrayDeque<int[]> queue, boolean[][] isVisit, int x, int y, int depth){
        int[] pos = new int[3];
        pos[0] = x;
        pos[1] = y;
        pos[2] = depth;
        queue.addLast(pos);
        isVisit[y][x] = true;
    }

    public int bfs(ArrayDeque<int[]> queue, boolean[][] isVisit,
                   String[][] tomatos, int x, int y){
        int depth = 0;
        addQueue(queue, isVisit, x, y,0);

        // 3. íê°€ ë¹„ì—ˆë‹¤ë©´ ë” ê°ˆê³³ ì—†ëŠ”ê±°ë¼ ëë‚¸ë‹¤.
        while(!queue.isEmpty()){
            int[] top = queue.pollFirst();
            int topDepth = top[2];
            depth = topDepth;  // depth ê°±ì‹ 

            // 2. íì— ìˆëŠ”ê±° 4ë°©í–¥ì„ ì²´í¬í•´ì„œ ì˜¬ë¦°ë‹¤.
            for(int i = 0; i<4; i++){
                int nextX = top[0] + posX[i];
                int nextY = top[1] + posY[i];

                if(isTrueInd(nextX, nextY)
                        && !isVisit[nextY][nextX]
                        && !("-1".equals(tomatos[nextY][nextX]))){
                    addQueue(queue, isVisit, nextX, nextY,topDepth+1);
                    tomatos[nextY][nextX] = "1";    // ğŸ… ìµìŒ
                }
            }
        }
        return depth;
    }
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        m = Integer.parseInt(st.nextToken());   //ê°€ë¡œ
        n = Integer.parseInt(st.nextToken());   //ì„¸ë¡œ

        String[][] tomatos = new String[n][m];
        boolean[][] isVisit = new boolean[n][m];
        ArrayDeque<int[]> queue = new ArrayDeque<int[]>();    // bfs

        for(int i = 0; i<n; i++){
            tomatos[i] = br.readLine().split(" ");
        }

        int ans = 0;

        í† ë§ˆí†  sol = new í† ë§ˆí† ();

        for(int i = 0; i<n; i++){
            for(int j = 0; j<m; j++){
                // 1. isVisit í•˜ì§€ ì•Šê³ , 1ì´ë©´ ë“¤ì–´ê°„ë‹¤.
                if(!isVisit[i][j] && "1".equals(tomatos[i][j])){
                    ans += sol.bfs(queue, isVisit, tomatos, j, i);
                }
            }
        }

        for(int i = 0; i<n; i++){
            for(int j = 0; j<m; j++){
                // 4. 0ì´ ìˆìœ¼ë©´ return -1, ì•„ë‹ˆë©´ ans ë‚´ë³´ë‚¸ë‹¤.
                if("0".equals(tomatos[i][j])){
                    System.out.println(-1);
                    return;
                }
            }
        }
        System.out.println(ans);
    }
}
```
```java
6 4
1 -1 0 0 0 0
0 -1 0 0 0 0
0 0 0 0 -1 0
0 0 0 0 -1 1
```

ì—¬ê¸°ì„œ í‹€ë¦¬ëŠ”ë°, ë‚´ê°€ ë³´ê¸°ì—” í¼ì ¸ë‚˜ê°„ë‹¤ëŠ” ê°œë…ì€ ì˜ ì¡ì•˜ëŠ”ë° ì–´ë””ê°€ í‹€ë¦°ê±´ì§€ ëª¨ë¥´ê² ì–´ì„œ ì¡°ì–¸ì„ êµ¬í•¨

ì•„ í— í† ë§ˆí† ê°€ ë™ì‹œì— í¼ì§€ë¯€ë¡œ, ìµœëŒ“ê°’ì„ êµ¬í•˜ëŠ”ê²Œ ëª©í‘œì´ë‹¤....

ê²°êµ­, ë¯¸ë¦¬ ì´ˆë°˜ì— ìµì€ í† ë§ˆí† ë“¤ì„ ë‹¤ ë„£ê³  queë¥¼ ëŒë¦¬ëŠ”ê²Œ ëª©í‘œì¸ ê²ƒì´ë‹¤.

## ğŸŒŸ ìµœì¢… í’€ì´ 1
```java
import java.io.*;
import java.lang.*;
import java.util.*;

public class í† ë§ˆí† {
    public static int m;
    public static int n;
    public static final int[] posX = {0,0,-1,1};
    public static final int[] posY = {-1,1,0,0};

    public boolean isTrueInd(int x, int y){
        if((0<=x && x<m) && (0<=y && y<n)){
            return true;
        }
        return false;
    }

    public void addQueue(ArrayDeque<int[]> queue, boolean[][] isVisit, int x, int y, int depth){
        int[] pos = new int[3];
        pos[0] = x;
        pos[1] = y;
        pos[2] = depth;
        queue.addLast(pos);
        isVisit[y][x] = true;
    }

    public int bfs(ArrayDeque<int[]> queue, boolean[][] isVisit, String[][] tomatos){
        int depth = 0;

        // 3. íê°€ ë¹„ì—ˆë‹¤ë©´ ë” ê°ˆê³³ ì—†ëŠ”ê±°ë¼ ëë‚¸ë‹¤.
        while(!queue.isEmpty()){
            int[] top = queue.pollFirst();
            int topDepth = top[2];
            depth = Math.max(topDepth,depth);  // ë°–ì—ì„œ depth ê°±ì‹ 

            // 2. íì— ìˆëŠ”ê±° 4ë°©í–¥ì„ ì²´í¬í•´ì„œ ì˜¬ë¦°ë‹¤.
            for(int i = 0; i<4; i++){
                int nextX = top[0] + posX[i];
                int nextY = top[1] + posY[i];

                if(isTrueInd(nextX, nextY)
                        && !isVisit[nextY][nextX]
                        && !("-1".equals(tomatos[nextY][nextX]))){
                    addQueue(queue, isVisit, nextX, nextY,topDepth+1);
                    tomatos[nextY][nextX] = "1";    // ğŸ… ìµìŒ
                }
            }
        }
        return depth;
    }
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        m = Integer.parseInt(st.nextToken());   //ê°€ë¡œ
        n = Integer.parseInt(st.nextToken());   //ì„¸ë¡œ

        String[][] tomatos = new String[n][m];
        boolean[][] isVisit = new boolean[n][m];
        ArrayDeque<int[]> queue = new ArrayDeque<int[]>();    // bfs

        for(int i = 0; i<n; i++){
            tomatos[i] = br.readLine().split(" ");
        }

        í† ë§ˆí†  sol = new í† ë§ˆí† ();

        for(int i = 0; i<n; i++){
            for(int j = 0; j<m; j++){
                // 1. isVisit í•˜ì§€ ì•Šê³ , 1ì´ë©´ íì— ì˜¬ë¦°ë‹¤.
                if(!isVisit[i][j] && "1".equals(tomatos[i][j])){
                    sol.addQueue(queue, isVisit, j, i, 0);
                }
            }
        }

        int ans = sol.bfs(queue, isVisit, tomatos);

        for(int i = 0; i<n; i++){
            for(int j = 0; j<m; j++){
                // 4. 0ì´ ìˆìœ¼ë©´ return -1, ì•„ë‹ˆë©´ ans ë‚´ë³´ë‚¸ë‹¤.
                if("0".equals(tomatos[i][j])){
                    System.out.println(-1);
                    return;
                }
            }
        }
        System.out.println(ans);
    }
}
```

ê°œì¸ì ìœ¼ë¡œ ë¦¬íŒ©í„°ë§ í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì€,

1. 0 ê²€ì‚¬ë¥¼ methodë¡œ ë¹¼ëŠ”ê²Œ ì¢‹ì„ì§€
2. depth íŒë‹¨ ë¡œì§ì´ ì¢€ ë”ëŸ¬ì›Œì„œ, ë‹¤ë¥¸ ì¢‹ì€ ê¹¨ë—í•œ ë°©ë²•ì´ ìˆëŠ”ì§€
3. ê·¸ì™¸..ê³ ì¹  ë¶€ë¶„ì´ ìˆì„ì§€ ê³ ë¯¼.
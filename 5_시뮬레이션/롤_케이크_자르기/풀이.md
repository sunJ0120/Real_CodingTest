## ì²« í’€ì´
```java
import java.lang.*;
import java.util.*;

class Solution {
    public static int ans = 0;

    public HashSet<Integer> makeSet(int start, int end, int[] topping){
        HashSet<Integer> set = new HashSet<Integer>();
        for(int i = start; i<end; i++){
            set.add(topping[i]);
        }
        return set;
    }
    
    public void cutRollCake(int mid, int[] topping){
        // 5. end == -1ì´ê±°ë‚˜ end == n-1ì´ë©´ returnìœ¼ë¡œ ì¢…ë£Œ
        if(mid == 0 || mid == topping.length){
            return;
        }
        // 2. endë¡œ ì™¼ìª½(ë¯¸í¬í•¨), ì˜¤ë¥¸ìª½ ë‚˜ëˆˆë‹¤.
        Set<Integer> setA = makeSet(0, mid, topping);
        Set<Integer> setB = makeSet(mid, topping.length, topping);

        // 3. ì™¼ìª½ set == ì˜¤ë¥¸ìª½ setì´ë©´ í†µê³¼
        if(setA.size() == setB.size()){
            ans++;
        }
        // 4. end-1í•œê±°ë‘ end+1 í•œê±°ë¥¼ midë¡œ ë‘ê³  ì¬ê·€í•œë‹¤
        cutRollCake(mid+1, topping);
        cutRollCake(mid-1, topping);
    }
    
    public int solution(int[] topping) {
        // 1. ê°€ìš´ë° ê¸°ì¤€ìœ¼ë¡œ end ê°’ì„ êµ¬í•œë‹¤.
        int mid = topping.length / 2;
        // ë°©ë¬¸ ì²´í¬ë¥¼ í•´ì•¼ ê°™ì€ ê³³ ë°©ë¬¸ì„ ì•ˆí•œë‹¤.
        isVisit = new boolean[topping.length];
        cutRollCake(mid, topping);
        
        // 6. ans return í•œë‹¤.
        return ans;
    }
}
```

- ì´ë ‡ê²Œ í‘¼ ê²ƒì€, ë‹¹ì—°íˆ ìˆ˜ê°€ ê°™ì„ í™•ë¥ ì´ í°ê±´ ê°€ìš´ë°ë¶€í„° ë¼ê³  ìƒê°í–ˆê³ 
- ê·¸ë ‡ê¸°ì— ê°€ìš´ë°ë¶€í„° ì–‘ ì˜†ìœ¼ë¡œ í™•ì¥í•´ê°€ë©° ìˆ˜ë¥¼ ì±„ì›Œë‚˜ê°”ë‹¤.
- ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë˜ì—ˆë˜ê±´ StackOverflowError ì˜€ëŠ”ë°,
- ì´ëŠ” ì¬ê·€í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, í˜¸ì¶œ ëœ ê²ƒì´ ë˜ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë¬¸ì œì—¿ë‹¤.

```
cutRollCake(5)
â”œâ”€ cutRollCake(6)
â”‚  â”œâ”€ cutRollCake(7)
â”‚  â””â”€ cutRollCake(5)  â† ë‹¤ì‹œ 5ë¡œ ëŒì•„ì˜´!
â”‚     â”œâ”€ cutRollCake(6)  â† ë¬´í•œ ë°˜ë³µ
â”‚     â””â”€ cutRollCake(4)
â””â”€ cutRollCake(4)
   â”œâ”€ cutRollCake(5)  â† ë˜ 5ë¡œ ëŒì•„ì˜´!
   â””â”€ cutRollCake(3)
```

## ë‹¤ì‹œ í’€ì´
```java
import java.lang.*;
import java.util.*;

class Solution {
    public static int ans = 0;
    public static boolean[] isVisit;
    
    public HashSet<Integer> makeSet(int start, int end, int[] topping){
        HashSet<Integer> set = new HashSet<Integer>();
        for(int i = start; i<end; i++){
            set.add(topping[i]);
        }
        return set;
    }
    
    public void cutRollCake(int mid, int[] topping){
        // 5. end == -1ì´ê±°ë‚˜ end == n-1ì´ë©´ returnìœ¼ë¡œ ì¢…ë£Œ
        if(mid == 0 || mid == topping.length){
            return;
        }
        
        // ì´ë¯¸ ë°©ë¬¸ í–ˆìœ¼ë©´ ì¢…ë£Œ
        if(isVisit[mid]){
            return;
        }
        
        isVisit[mid] = true;    // ë°©ë¬¸ ì²´í¬
        
        // 2. endë¡œ ì™¼ìª½(ë¯¸í¬í•¨), ì˜¤ë¥¸ìª½ ë‚˜ëˆˆë‹¤.
        Set<Integer> setA = makeSet(0, mid, topping);
        Set<Integer> setB = makeSet(mid, topping.length, topping);

        // 3. ì™¼ìª½ set == ì˜¤ë¥¸ìª½ setì´ë©´ í†µê³¼
        if(setA.size() == setB.size()){
            ans++;
        }
        // 4. end-1í•œê±°ë‘ end+1 í•œê±°ë¥¼ midë¡œ ë‘ê³  ì¬ê·€í•œë‹¤
        cutRollCake(mid+1, topping);
        cutRollCake(mid-1, topping);
    }
    
    public int solution(int[] topping) {
        // 1. ê°€ìš´ë° ê¸°ì¤€ìœ¼ë¡œ end ê°’ì„ êµ¬í•œë‹¤.
        int mid = topping.length / 2;
        // ë°©ë¬¸ ì²´í¬ë¥¼ í•´ì•¼ ê°™ì€ ê³³ ë°©ë¬¸ì„ ì•ˆí•œë‹¤.
        isVisit = new boolean[topping.length];
        cutRollCake(mid, topping);
        
        // 6. ans return í•œë‹¤.
        return ans;
    }
}
```
- ê·¸ë˜ì„œ ë°©ë¬¸ ì²´í¬ ë°°ì—´ì„ ë§Œë“¤ì–´ì„œ, ì´ë¯¸ ë°©ë¬¸í•œ ê³³ì€ ê°€ì§€ ì•Šë„ë¡ í•˜ì˜€ë‹¤.
- ê·¸ë¬ë”ë‹ˆ ë ˆì „ë“œ ì‹œê°„ì´ˆê³¼ ì´ìŠˆê°€ ë°œìƒí•˜ì˜€ë‹¤...

```
í…ŒìŠ¤íŠ¸ 1 ã€‰	í†µê³¼ (2256.83ms, 419MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 3 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 4 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 5 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 6 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 7 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 8 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 9 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 10 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 11 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 12 ã€‰	í†µê³¼ (4588.75ms, 623MB)
í…ŒìŠ¤íŠ¸ 13 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 14 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 15 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 16 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 17 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 18 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 19 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
í…ŒìŠ¤íŠ¸ 20 ã€‰	ì‹¤íŒ¨ (ì‹œê°„ ì´ˆê³¼)
```

ë‚´ ìƒì— ì €ëŸ° ì‹œê°„ì€ ì²˜ìŒë³¸ë‹¤.

-------

## ì¡°ì–¸ (í’€ì´)

- ì´ ë¬¸ì œì˜ ê²½ìš°, ì¤‘ë³µì„ ì œê±°í•´ì•¼ í•˜ë¯€ë¡œ Set ê°œë…ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²ƒì€ ë§ëŠ”ë°,
- ë‚˜ ì²˜ëŸ¼ ê³„ì† Setì„ ìƒì„±í•˜ëŠ” ê²ƒì€ ì•ˆ ëœë‹¤.
- ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŒ

1. ì–‘ìª½ ì¬ê·€ í˜¸ì¶œì´ ê²°êµ­ ì¤‘ë³µë˜ë¯€ë¡œ í•„ìš” ì—†ìŒ
2. ê²°êµ­ ê²¹ì³¤ì„ ë•Œ ê·¸ëƒ¥ return í•˜ë”ë¼ë„, ë“¤ë¥´ëŠ” ê±°ë¼ ì‹œê°„ ë³µì¡ë„ê°€ O(n^2)ê°€ ë¨
3. ë”°ë¼ì„œ, í•˜ë‚˜ì˜ Setì„ ìœ ì§€í•˜ë©´ì„œ, ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ì„ ë‚˜ëˆ„ëŠ” ê²ƒì´ í•„ìš”

---------

# ğŸ”¥ ìµœì¢… í’€ì´

```java
import java.util.*;
import java.lang.*;

class Solution {
    public void moveTopping(HashMap<Integer, Integer> younger, HashSet<Integer> brother, int topping){
        brother.add(topping);
        younger.put(topping, younger.get(topping) - 1);

        if(younger.get(topping) == 0){
            younger.remove(topping);
        }
    }

    public int solution(int[] topping) {
        int answer = 0;
        // 1. Mapì„ ë§Œë“¤ì–´ì„œ í† í•‘ : í† í•‘ìˆ˜ë¡œ ì €ì¥
        HashMap<Integer, Integer> younger = new HashMap<Integer, Integer>();
        for(int top : topping){
            younger.put(top, younger.getOrDefault(top,0) + 1);
        }

        // 2. Setì„ ë§Œë“¤ì–´ì„œ í˜•êº¼ë¥¼ ì €ì¥í•  ì¤€ë¹„
        HashSet<Integer> brother = new HashSet<Integer>();
        // 3. ë°°ì—´ ì¸ë±ìŠ¤ í•˜ë‚˜ì”© ì´ë™í•˜ë©´ì„œ Mapì—ì„œ í•˜ë‚˜ ë¹¼ê³ , Setì— ì¶”ê°€í•˜ê³  ë°˜ë³µ
        for(int top : topping){
            moveTopping(younger, brother, top);
            // 4. Setí¬ê¸° == Map í‚¤ ê°¯ìˆ˜ì´ë©´ ans++
            if(brother.size() == younger.size()){
                answer++;
            }
        }

        // 5. ans í”„ë¦°íŠ¸
        return answer;
    }
}
```
- ì°¸ê³ ë¡œ getOrDefault(top,0) ì‚¬ìš©í•˜ë©´, mapì— ê°’ ì•„ì§ ì—†ì„ë•Œ ë„£ì„ ë””í´íŠ¸ ê°’ë„ ê°™ì´ ë„£ì–´ì¤„ ìˆ˜ ìˆì–´ì„œ ë§¤ìš° í¸ë¦¬í•¨. ì•Œì•„ë‘ê¸°

### ì •í™•ì„± í…ŒìŠ¤íŠ¸
```
í…ŒìŠ¤íŠ¸ 1 ã€‰	í†µê³¼ (12.46ms, 81.2MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰	í†µê³¼ (65.91ms, 95.9MB)
í…ŒìŠ¤íŠ¸ 3 ã€‰	í†µê³¼ (35.18ms, 92MB)
í…ŒìŠ¤íŠ¸ 4 ã€‰	í†µê³¼ (37.67ms, 94MB)
í…ŒìŠ¤íŠ¸ 5 ã€‰	í†µê³¼ (103.25ms, 127MB)
í…ŒìŠ¤íŠ¸ 6 ã€‰	í†µê³¼ (204.04ms, 195MB)
í…ŒìŠ¤íŠ¸ 7 ã€‰	í†µê³¼ (173.26ms, 172MB)
í…ŒìŠ¤íŠ¸ 8 ã€‰	í†µê³¼ (173.43ms, 170MB)
í…ŒìŠ¤íŠ¸ 9 ã€‰	í†µê³¼ (172.53ms, 171MB)
í…ŒìŠ¤íŠ¸ 10 ã€‰	í†µê³¼ (195.72ms, 188MB)
í…ŒìŠ¤íŠ¸ 11 ã€‰	í†µê³¼ (47.57ms, 82.9MB)
í…ŒìŠ¤íŠ¸ 12 ã€‰	í†µê³¼ (9.97ms, 95.6MB)
í…ŒìŠ¤íŠ¸ 13 ã€‰	í†µê³¼ (297.92ms, 172MB)
í…ŒìŠ¤íŠ¸ 14 ã€‰	í†µê³¼ (172.82ms, 193MB)
í…ŒìŠ¤íŠ¸ 15 ã€‰	í†µê³¼ (169.04ms, 189MB)
í…ŒìŠ¤íŠ¸ 16 ã€‰	í†µê³¼ (179.24ms, 188MB)
í…ŒìŠ¤íŠ¸ 17 ã€‰	í†µê³¼ (179.09ms, 193MB)
í…ŒìŠ¤íŠ¸ 18 ã€‰	í†µê³¼ (207.25ms, 176MB)
í…ŒìŠ¤íŠ¸ 19 ã€‰	í†µê³¼ (191.12ms, 192MB)
í…ŒìŠ¤íŠ¸ 20 ã€‰	í†µê³¼ (170.68ms, 168MB)
```

------

# â­ ì°¸ê³ 

- ì´ ë¬¸ì œì˜ ê²½ìš°, ê²°êµ­ ië²ˆì§¸ì™€ i+1ë²ˆì§¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì—
- êµ³ì´ Mapì„ ì“°ì§€ ì•Šê³  ë°°ì—´ê³¼ Setë§Œìœ¼ë¡œ í‘¸ëŠ” ë°©ë²•ë„ ìˆë‹¤.
- ê·¸ëŸ¬ë‚˜ ì§€ê¸ˆ ë‚˜ëŠ” ì§ê´€ì ìœ¼ë¡œ ë¬¸ì œë¥¼ íŒŒì•…í•´ì„œ íš¨ìœ¨ì ìœ¼ë¡œ í‘¸ëŠ” ë°©ë²•ì„ ìµíˆëŠ” ê²ƒì´ ëª©ì ì´ê¸° ë•Œë¬¸ì—
- Mapì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í‘¸ëŠ”ê²ƒì„ ìš°ì„ ìœ¼ë¡œ í•˜ê³ ... ì´ ë°©ì‹ì€ ë³µìŠµ ë•Œ í•œ ë²ˆ ë” í•´ë³´ëŠ” ê²ƒìœ¼ë¡œ í•œë‹¤.
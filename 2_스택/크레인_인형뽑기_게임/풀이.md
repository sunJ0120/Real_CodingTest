## í’€ì´

### ì²« í’€ì´

```java
import java.util.*;
import java.lang.*;

class Solution {
    public int solution(int[][] board, int[] moves) {
        int answer = 0;
        // 1. ìŠ¤íƒ ì •ì˜í•˜ê¸°
        Deque<Integer> stack = new ArrayDeque<Integer>();
        
        // 2. ê¹Šì´ ë°°ì—´ ì •ì˜í•˜ê¸°
        int[] depth = new int[board[0].length];
        
        // 3. ë†’ì´ ì €ì¥í•˜ê¸°
        for(int j = 0; j<board[0].length; j++){ //ë ¬
            for(int i = 0; i<board.length; i++){ //í–‰
                if(board[i][j] == 0){
                    depth[j]++;
                }else{
                    break;
                }
            }
        }
        
        // 4. movesë¥¼ ì—´ë¡œ í•˜ë©´ì„œ ë§¨ ìœ„ì—ì„œë¶€í„° í•˜ë‚˜ì”© ë¹¼ê¸°
        for(int move : moves){
            if(depth[move-1] >= board.length){
                continue;
            }
            
            int dolls = board[depth[move-1]][move-1];
            
            if(stack.isEmpty() || stack.peek() != dolls){
                stack.push(dolls);
                depth[move-1]++; // ê¹Šì´ ì¦ê°€
                continue;
            }else{
                // 5. ìŠ¤íƒì˜ topê³¼ ê°™ì€ì§€ ë³´ê³  ë¹¼ê¸°
                stack.pop();
                answer += 2;
            }
        }
        return answer;
    }
}
```

- ì™œ í‹€ë¦´ê¹Œâ€¦? ì§„ì§œ ì´ìœ ë¥¼ ëª¨ë¥´ê² ë„¤

```java
ì •í™•ì„±  í…ŒìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ 1 ã€‰	ì‹¤íŒ¨ (0.07ms, 85.6MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰	ì‹¤íŒ¨ (0.08ms, 80.6MB)
í…ŒìŠ¤íŠ¸ 3 ã€‰	í†µê³¼ (0.07ms, 73.9MB)
í…ŒìŠ¤íŠ¸ 4 ã€‰	í†µê³¼ (0.51ms, 85.7MB)
í…ŒìŠ¤íŠ¸ 5 ã€‰	í†µê³¼ (0.06ms, 80.5MB)
í…ŒìŠ¤íŠ¸ 6 ã€‰	ì‹¤íŒ¨ (0.06ms, 75MB)
í…ŒìŠ¤íŠ¸ 7 ã€‰	ì‹¤íŒ¨ (0.16ms, 76.5MB)
í…ŒìŠ¤íŠ¸ 8 ã€‰	ì‹¤íŒ¨ (0.53ms, 90.1MB)
í…ŒìŠ¤íŠ¸ 9 ã€‰	ì‹¤íŒ¨ (0.22ms, 82.7MB)
í…ŒìŠ¤íŠ¸ 10 ã€‰	ì‹¤íŒ¨ (0.41ms, 93.9MB)
í…ŒìŠ¤íŠ¸ 11 ã€‰	ì‹¤íŒ¨ (0.49ms, 73.8MB)

ì±„ì  ê²°ê³¼

ì •í™•ì„±: 27.3
í•©ê³„: 27.3 / 100.0
```

ì•„!!! ì–´ì¨Œë“  ë°”êµ¬ë‹ˆì— ë‹´ëŠ”ê²ƒë„ ì¸í˜•ì„ ë½‘ëŠ”ê±°ë‹ˆê¹Œ depthë¥¼ ì¦ê°€ì‹œì¼œì•¼ í•œë‹¤.

### ê³ ì¹œ í’€ì´

```java
import java.util.*;
import java.lang.*;

class Solution {
    public int solution(int[][] board, int[] moves) {
        int answer = 0;
        // 1. ìŠ¤íƒ ì •ì˜í•˜ê¸°
        Deque<Integer> stack = new ArrayDeque<Integer>();
        // 2. ê¹Šì´ ë°°ì—´ ì •ì˜í•˜ê¸°
        int[] depth = new int[board[0].length];
        // 3. ë†’ì´ ì €ì¥í•˜ê¸°
        for(int j = 0; j<board[0].length; j++){ //ë ¬
            for(int i = 0; i<board.length; i++){ //í–‰
                if(board[i][j] == 0){
                    depth[j]++;
                }else{
                    break;
                }
            }
        }
        
        // 4. movesë¥¼ ì—´ë¡œ í•˜ë©´ì„œ ë§¨ ìœ„ì—ì„œë¶€í„° í•˜ë‚˜ì”© ë¹¼ê¸°
        for(int move : moves){
            if(depth[move-1] >= board.length){
                continue;
            }
            
            int dolls = board[depth[move-1]][move-1];
            depth[move-1]++; // ê¹Šì´ëŠ” í•­ìƒ ì¦ê°€
            
            if(stack.isEmpty() || stack.peek() != dolls){
                stack.push(dolls);
                continue;
            }else{
                // 5. ìŠ¤íƒì˜ topê³¼ ê°™ì€ì§€ ë³´ê³  ë¹¼ê¸°
                stack.pop();
                answer += 2;
            }
        }
        return answer;
    }
}
```

```java
ì •í™•ì„±  í…ŒìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ 1 ã€‰	í†µê³¼ (0.05ms, 76MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰	í†µê³¼ (0.06ms, 69.1MB)
í…ŒìŠ¤íŠ¸ 3 ã€‰	í†µê³¼ (0.11ms, 83.6MB)
í…ŒìŠ¤íŠ¸ 4 ã€‰	í†µê³¼ (0.59ms, 72MB)
í…ŒìŠ¤íŠ¸ 5 ã€‰	í†µê³¼ (0.06ms, 86.3MB)
í…ŒìŠ¤íŠ¸ 6 ã€‰	í†µê³¼ (0.06ms, 81.7MB)
í…ŒìŠ¤íŠ¸ 7 ã€‰	í†µê³¼ (0.11ms, 76.7MB)
í…ŒìŠ¤íŠ¸ 8 ã€‰	í†µê³¼ (0.40ms, 73.2MB)
í…ŒìŠ¤íŠ¸ 9 ã€‰	í†µê³¼ (0.35ms, 72.7MB)
í…ŒìŠ¤íŠ¸ 10 ã€‰	í†µê³¼ (0.45ms, 76.3MB)
í…ŒìŠ¤íŠ¸ 11 ã€‰	í†µê³¼ (0.51ms, 90.6MB)

ì±„ì  ê²°ê³¼

ì •í™•ì„±: 100.0
í•©ê³„: 100.0 / 100.0
```

ì¼ë¶€ëŸ¬ ë©”ëª¨ë¦¬ ì¤„ì´ë ¤ê³  stack ì—´ë§Œí¼ ì•ˆì“´ê±´ë°â€¦.

ì°¸ê³  í’€ì´ì—ì„  **ì—´ ë§Œí¼ ìŠ¤íƒì„ ì“°ë¼** ê·¸ë˜ì„œ, ë‚˜ì˜ depth ë°©ì‹ê³¼ ë¹„êµí•˜ê¸°ë¡œ

### í¬ë ˆì¸ ì¸í˜•ë½‘ê¸° ë¬¸ì œ - ë‘ ê°€ì§€ ì ‘ê·¼ë²• ë¹„êµ

1. ì—¬ëŸ¬ ìŠ¤íƒ ì‚¬ìš© (ì—´ë³„ ìŠ¤íƒ)

```java
// ê° ì—´ì„ ìŠ¤íƒìœ¼ë¡œ ê´€ë¦¬
Stack<Integer>[] columns = new Stack[n];
for(int i = 0; i < n; i++) {
    columns[i] = new Stack<>();
    for(int j = board.length-1; j >= 0; j--) {
        if(board[j][i] != 0) {
            columns[i].push(board[j][i]);
        }
    }
}
```

2. Depth ë°°ì—´ ì‚¬ìš© (ë©”ëª¨ë¦¬ ìµœì í™”)

```java
int[] depth = new int[board[0].length];
// boardë¥¼ ì§ì ‘ ì°¸ì¡°í•˜ë©° depthë¡œ ìœ„ì¹˜ ê´€ë¦¬
```

### ë¹„êµ ë¶„ì„í‘œ

| ì¸¡ë©´ | ì—¬ëŸ¬ ìŠ¤íƒ | depth ë°°ì—´ |
| --- | --- | --- |
| **ë©”ëª¨ë¦¬** | âŒ O(NÃ—M) | âœ… O(N) |
| **ì†ë„** | O(NÃ—M + K) | O(NÃ—M + K) |
| **ê°€ë…ì„±** | âœ… ë§¤ìš° ì¢‹ìŒ | â­• ë³´í†µ |
| **ì‹¤ìˆ˜ ê°€ëŠ¥ì„±** | âœ… ë‚®ìŒ | â­• ì¤‘ê°„ |

### ê° ë°©ì‹ì˜ ì¥ë‹¨ì 

ì—¬ëŸ¬ ìŠ¤íƒ ë°©ì‹

**ì¥ì :**

- ì§ê´€ì ì´ê³  ì´í•´í•˜ê¸° ì‰¬ì›€
- ì‹¤ìˆ˜í•  ì—¬ì§€ê°€ ì ìŒ
- ì½”ë“œê°€ ë” ê¹”ë”í•¨

**ë‹¨ì :**

- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë§ìŒ (ëª¨ë“  ì¸í˜• ë³µì‚¬)

Depth ë°°ì—´ ë°©ì‹

**ì¥ì :**

- ë©”ëª¨ë¦¬ íš¨ìœ¨ì  (O(N)ë§Œ ì‚¬ìš©)
- ì›ë³¸ boardë¥¼ ê·¸ëŒ€ë¡œ í™œìš©
- ì‹¤ì œ í¬ë ˆì¸ ê²Œì„ì˜ ë™ì‘ê³¼ ìœ ì‚¬

**ë‹¨ì :**

- ì¸ë±ìŠ¤ ê´€ë¦¬ê°€ ë³µì¡í•¨
- depth ì—…ë°ì´íŠ¸ íƒ€ì´ë° ì‹¤ìˆ˜ ê°€ëŠ¥

### ê²°ë¡  ë° ì¶”ì²œ

### ğŸ“ ì½”ë”© í…ŒìŠ¤íŠ¸

**Depth ë°°ì—´ ë°©ì‹ ì¶”ì²œ**

- ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì´ ì¤‘ìš”í•œ í‰ê°€ ìš”ì†Œ
- ê³µê°„ ë³µì¡ë„ ìµœì í™” ì ìˆ˜ íšë“ ê°€ëŠ¥

### ğŸ’¼ ì‹¤ë¬´ í”„ë¡œì íŠ¸

**ì—¬ëŸ¬ ìŠ¤íƒ ë°©ì‹ ì¶”ì²œ**

- ìœ ì§€ë³´ìˆ˜ì™€ ê°€ë…ì„±ì´ ìµœìš°ì„ 
- íŒ€ í˜‘ì—… ì‹œ ì´í•´í•˜ê¸° ì‰¬ìš´ ì½”ë“œê°€ ì¤‘ìš”

---

**ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸**: Depth ë°°ì—´ ë°©ì‹ì€ ì½”ë”© í…ŒìŠ¤íŠ¸ì— ì í•©í•˜ì§€ë§Œ, ì¸ë±ìŠ¤ ê´€ë¦¬ì™€ depth ì—…ë°ì´íŠ¸ íƒ€ì´ë°ì— íŠ¹ë³„íˆ ì£¼ì˜í•´ì•¼ í•¨

> ì¦‰, ë‚˜ì˜ ê²½ìš°ë„ ì‚¬ì‹¤ìƒ ì¸ë±ìŠ¤ ë•Œë¬¸ì— ì• ë¨¹ì€ê±´ ë§ì•„ì„œ ì‹¤ìˆ˜ë§Œ ì£¼ì˜í•˜ë¼~